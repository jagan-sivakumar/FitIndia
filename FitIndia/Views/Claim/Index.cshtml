@model IEnumerable<FitIndia.Models.BillReport>

@{
    ViewBag.Title = "Claim Status";
}
<link href="~/Content/table.css" rel="stylesheet" />
<ul id="menuNav">
    <li>
        @Html.ActionLink("Home", "Index", "Treatment")
    </li>
    <li>
        @Html.ActionLink("Profile", "Index", "User")
    </li>
    <li>
        @Html.ActionLink("Add Report", "Create", "Treatment")
    </li>
    <li>
        @Html.ActionLink("Logout", "Logout", "Account", null, new { @class = "navRight" })
    </li>
</ul>
<h2>Claim Status</h2>
@if (Model.Count() == 0)
{
    <table class="table-responsive">
        <tr>
            <td>
                No Record Found
            </td>
        </tr>
    </table>
}
else
{

    <table class="table-responsive">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.ReportID)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.BillDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Category)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TreatmentCost)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.InsuranceClaim)
                </th>
                <th>Operation</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                using (Html.BeginForm("Claim", "Claim", new { id = item.BillID,reportID=item.ReportID}))
                {
                    <tr>
                        <td data-title="@Html.DisplayNameFor(model => model.ReportID)">
                            @Html.DisplayFor(modelItem => item.ReportID)
                        </td>
                        <td data-title="@Html.DisplayNameFor(model => model.BillDate)">
                            @Html.DisplayFor(modelItem => item.BillDate)
                        </td>
                        <td data-title="@Html.DisplayNameFor(model => model.Category)">
                            @Html.DisplayFor(modelItem => item.Category)
                        </td>
                        <td data-title="@Html.DisplayNameFor(model => model.TreatmentCost)">
                            @Html.DisplayFor(modelItem => item.TreatmentCost)
                        </td>
                        <td data-title="@Html.DisplayNameFor(model => model.InsuranceClaim)">
                            @Html.DisplayFor(modelItem => item.InsuranceClaim)
                        </td>
                        <td data-title="Operation">
                            @if (item.InsuranceClaim == "Not Claimed")
                            {
                                <input type="submit" value="Claim" class="btn" />
                            }

                        </td>
                    </tr>
                }

            }
        </tbody>
    </table>
}